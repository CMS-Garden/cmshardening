<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>BSICMS2/hardening-scripts/python: configuration.Configuration Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BSICMS2/hardening-scripts/python
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>configuration</b></li><li class="navelem"><a class="el" href="classconfiguration_1_1_configuration.html">Configuration</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classconfiguration_1_1_configuration-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">configuration.Configuration Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>provides access to the configuration repository.  
 <a href="classconfiguration_1_1_configuration.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for configuration.Configuration:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classconfiguration_1_1_configuration.png" usemap="#configuration.Configuration_map" alt=""/>
  <map id="configuration.Configuration_map" name="configuration.Configuration_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a168acb4f309b44848267436989327c6b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a168acb4f309b44848267436989327c6b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self)</td></tr>
<tr class="separator:a168acb4f309b44848267436989327c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6c8df242d59501b11da9771154ced7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfiguration_1_1_configuration.html#add6c8df242d59501b11da9771154ced7">get_property</a> (self, name_parts, kwargs)</td></tr>
<tr class="memdesc:add6c8df242d59501b11da9771154ced7"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve information from the configuration repository  <a href="#add6c8df242d59501b11da9771154ced7">More...</a><br /></td></tr>
<tr class="separator:add6c8df242d59501b11da9771154ced7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286d20be84b2455392d06c35535626e8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfiguration_1_1_configuration.html#a286d20be84b2455392d06c35535626e8">has_property</a> (self, name_parts)</td></tr>
<tr class="memdesc:a286d20be84b2455392d06c35535626e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">determines if a property is available in the repository  <a href="#a286d20be84b2455392d06c35535626e8">More...</a><br /></td></tr>
<tr class="separator:a286d20be84b2455392d06c35535626e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b4581ed4f9f0d22588bcf0539b2760"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfiguration_1_1_configuration.html#a95b4581ed4f9f0d22588bcf0539b2760">interpolate</a> (self, value)</td></tr>
<tr class="memdesc:a95b4581ed4f9f0d22588bcf0539b2760"><td class="mdescLeft">&#160;</td><td class="mdescRight">traverses the given datastructure recursively and calls <a class="el" href="classconfiguration_1_1_configuration.html#a1fdbdf8e046185fb25a72b66d4da2191" title="if value is a string this method replaces special sub strings, according to the following rules: ...">Configuration::interpolate_atom</a> on every atomic item  <a href="#a95b4581ed4f9f0d22588bcf0539b2760">More...</a><br /></td></tr>
<tr class="separator:a95b4581ed4f9f0d22588bcf0539b2760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fdbdf8e046185fb25a72b66d4da2191"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfiguration_1_1_configuration.html#a1fdbdf8e046185fb25a72b66d4da2191">interpolate_atom</a> (self, value)</td></tr>
<tr class="memdesc:a1fdbdf8e046185fb25a72b66d4da2191"><td class="mdescLeft">&#160;</td><td class="mdescRight">if <code>value</code> is a string this method replaces special sub strings, according to the following rules:  <a href="#a1fdbdf8e046185fb25a72b66d4da2191">More...</a><br /></td></tr>
<tr class="separator:a1fdbdf8e046185fb25a72b66d4da2191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7887f9e8bb76ee33c5caacdbfd292e62"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfiguration_1_1_configuration.html#a7887f9e8bb76ee33c5caacdbfd292e62">set_property</a> (self, name_parts, kwargs)</td></tr>
<tr class="memdesc:a7887f9e8bb76ee33c5caacdbfd292e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">adds some property to the repository if it does not exit, or overwrites the existing value  <a href="#a7887f9e8bb76ee33c5caacdbfd292e62">More...</a><br /></td></tr>
<tr class="separator:a7887f9e8bb76ee33c5caacdbfd292e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd017755d6e27e21735b9c77af9104b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfiguration_1_1_configuration.html#a9cd017755d6e27e21735b9c77af9104b">set_config</a> (self, cfg_string)</td></tr>
<tr class="memdesc:a9cd017755d6e27e21735b9c77af9104b"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets (or overwrites) the configuration repository  <a href="#a9cd017755d6e27e21735b9c77af9104b">More...</a><br /></td></tr>
<tr class="separator:a9cd017755d6e27e21735b9c77af9104b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2328eccf88241a1726e56b0aa90810"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfiguration_1_1_configuration.html#a5c2328eccf88241a1726e56b0aa90810">merge_config_file</a> (self, filename, prefix)</td></tr>
<tr class="memdesc:a5c2328eccf88241a1726e56b0aa90810"><td class="mdescLeft">&#160;</td><td class="mdescRight">adds the contents of a YAML file to the configuration repository  <a href="#a5c2328eccf88241a1726e56b0aa90810">More...</a><br /></td></tr>
<tr class="separator:a5c2328eccf88241a1726e56b0aa90810"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>provides access to the configuration repository. </p>
<p>Properties are read from YAML-formated configuration files <code>config.yml</code> and <code>modules/*.yml</code> and can be accessed using the method <a class="el" href="classconfiguration_1_1_configuration.html#add6c8df242d59501b11da9771154ced7" title="retrieve information from the configuration repository ">Configuration::get_property</a>.</p>
<p>This class is a Singleton and should be used as such; do not store references to a <a class="el" href="classconfiguration_1_1_configuration.html" title="provides access to the configuration repository. ">Configuration</a> object </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="add6c8df242d59501b11da9771154ced7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def configuration.Configuration.get_property </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name_parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieve information from the configuration repository </p>
<p>You can imagine the configuration repository as a tree, where each node has a name (similar to filesystem objects such as files and directories). Properties are identified using a list of property names, where the first entry identifies the child of the root node whose name is equal to the first list entry, the second entry identifies the child of the latter node whose name is equal to the second list entry and so on.</p>
<p>The last list entry identifies the property itself.</p>
<p>For example, consider the following configuration repository: </p><pre class="fragment">                    +-----+
             +------+     +------+
             |      +-----+      |
             |         |         |
             |         |         |
          +--+--+   +--+--+   +--+--+
   +------+  A  |   |  B  |   |  C  |
   |      +-----+   +-----+   +-----+
   |         |  +------+
   |         |         |
+--+--+   +-----+   +--+--+
|  x  |   |  y  |   |  z  |
+-----+   +-----+   ++-+-++
                     | | |
             +-------+ | +-------+
          +--+--+   +--+--+   +--+--+
          |  a  |   |  b  |   |  c  |
          +-----+   +-----+   +-----+
</pre><p>In this example, the following property names are valid and have a value:</p>
<table class="doxtable">
<tr>
<th>Property name  </th></tr>
<tr>
<td><code>['A', 'x']</code> </td></tr>
<tr>
<td><code>['A', 'y']</code> </td></tr>
<tr>
<td><code>['A', 'z', 'a']</code> </td></tr>
<tr>
<td><code>['A', 'z', 'b']</code> </td></tr>
<tr>
<td><code>['A', 'z', 'c']</code> </td></tr>
<tr>
<td><code>['B']</code> </td></tr>
<tr>
<td><code>['C']</code> </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name_parts</td><td>contains the list of names which identify the property to be retrieved. If this list does not contain the full path of the property, but only a part, then a subtree of the configuration repository will be returned</td></tr>
    <tr><td class="paramname">kwargs</td><td><ul>
<li>if kwargs contains <code>default</code> and no property with the specified name is not found the repository, then the value of the <code>default</code> key will be returned.</li>
<li>if kwargs contains <code>interpolate</code> and its value is <code>True</code>, then <a class="el" href="classconfiguration_1_1_configuration.html#a95b4581ed4f9f0d22588bcf0539b2760" title="traverses the given datastructure recursively and calls Configuration::interpolate_atom on every atom...">Configuration::interpolate</a> will be called on the return value</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>If the specified property is found, then its value will be returned.</li>
<li>If the name specifies a subtree of the repository, then the subtree will be returned</li>
<li>if the property is not found, but a default value has been specified, then this will be returned</li>
<li>None otherwise </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a286d20be84b2455392d06c35535626e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def configuration.Configuration.has_property </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name_parts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>determines if a property is available in the repository </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name_parts</td><td>name of the property. For details about property naming have a look at <a class="el" href="classconfiguration_1_1_configuration.html#add6c8df242d59501b11da9771154ced7" title="retrieve information from the configuration repository ">Configuration::get_property</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>True</code> if the property exists, <code>False</code> otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a95b4581ed4f9f0d22588bcf0539b2760"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def configuration.Configuration.interpolate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>traverses the given datastructure recursively and calls <a class="el" href="classconfiguration_1_1_configuration.html#a1fdbdf8e046185fb25a72b66d4da2191" title="if value is a string this method replaces special sub strings, according to the following rules: ...">Configuration::interpolate_atom</a> on every atomic item </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the datastructure to be interpolated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the same datastructure as provided as an argument, but all atomic values (i.e. strings) in it have been replaced by the result of the call to <a class="el" href="classconfiguration_1_1_configuration.html#a1fdbdf8e046185fb25a72b66d4da2191" title="if value is a string this method replaces special sub strings, according to the following rules: ...">Configuration::interpolate_atom</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1fdbdf8e046185fb25a72b66d4da2191"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def configuration.Configuration.interpolate_atom </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>if <code>value</code> is a string this method replaces special sub strings, according to the following rules: </p>
<ol type="1">
<li>if the substring starts with <code>info:</code>, the remaining substring will be passed to Info::interpolate</li>
<li>if the substrings starts with <code>$</code>, it is assumed to be an environment variable and will replaced by the value of that variable if it exists</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>string, to be interpolated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>interpolated string </dd></dl>

</div>
</div>
<a class="anchor" id="a5c2328eccf88241a1726e56b0aa90810"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def configuration.Configuration.merge_config_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>adds the contents of a YAML file to the configuration repository </p>
<p>The contents of the YAML file will be added to the root level of the repository, because this could overwrite existing values in case of name clashes. Instead you have to provide a prefix, which will be used as first property name part (see <a class="el" href="classconfiguration_1_1_configuration.html#add6c8df242d59501b11da9771154ced7" title="retrieve information from the configuration repository ">Configuration::get_property</a>). For example, if you load a property named 'MyProperty' from a YAML file using the prefix <code>MyPrefix</code>, then this property can later be read by the identifier <code>['MyPrefix', 'MyProperty']</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>name of the YAML file </td></tr>
    <tr><td class="paramname">prefix</td><td>prefix to be used. If properties with the same prefix exist already, then the whole subtree with this prefix will be overwritten! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9cd017755d6e27e21735b9c77af9104b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def configuration.Configuration.set_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cfg_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets (or overwrites) the configuration repository </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg_string</td><td>YAML-formated string which contains the new configuration </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7887f9e8bb76ee33c5caacdbfd292e62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def configuration.Configuration.set_property </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name_parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>adds some property to the repository if it does not exit, or overwrites the existing value </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name_parts</td><td>name of the property. For details about property naming have a look at <a class="el" href="classconfiguration_1_1_configuration.html#add6c8df242d59501b11da9771154ced7" title="retrieve information from the configuration repository ">Configuration::get_property</a> </td></tr>
    <tr><td class="paramname">kwargs</td><td>if <code>kwargs</code> contains the key 'value', then its value will be used to set the property; otherwise <code>None</code> will be used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>configuration/__init__.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
